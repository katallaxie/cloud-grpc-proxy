  
syntax = "proto3";

package proto;

import "google/protobuf/timestamp.proto";
import "api/annotations.proto";

// Example ...
service Example {
  // Insert ...
  rpc Insert(Insert.Request) returns (Insert.Response) {
    option (amazon.api.services).lambda = {
      function_name: "arn:aws:lambda:us-east-2:123456789012:function:my-function:1"
    };
  };
  
  // Update ...
  rpc Update(Update.Request) returns (Update.Response) {
    option (amazon.api.services).dynamodb.UpdateItem = {
      TableName: "aws-grpc-service-proxy"
      ReturnValues: "ALL_NEW"
      UpdateExpression: "SET #Y = :y, #AT = :t"
      ExpressionAttributeNames: [
        { key: "key", value: "value" }
      ]
    };
  };
}

// Item ...
message Item {
 // UUID ...
  string uuid   = 1;
  // Title ...
  string title  = 2;
  // Body ...
  string body   = 3;
}

// Insert ...
message Insert {
  // Request ...
  message Request {
    Item item = 1;
  }
  // Response ...
  message Response {
    string uuid = 1;
  }
}

// Update ...
message Update {
  // Request ...
  message Request {
    Item item = 1;
  }
  // Response ...
  message Response {
    string uuid = 1;
  }
}

// ListItems ...
message ListItems {
  // Request ...
  message Request {
  }
  // Response ...
  message Response {
    repeated Item items = 1;
  }
}

// Empty ...
message Empty {}